{"version":3,"sources":["LoginPage/LoginPage.module.css","_helpers/fake-backend.js","_helpers/history.js","_constants/alert.constants.js","_constants/user.constants.js","_constants/task.constants.js","_reducers/authentication.reducer.js","_reducers/index.js","_reducers/registration.reducer.js","_reducers/users.reducer.js","_reducers/alert.reducer.js","_reducers/task.reducer.js","_helpers/store.js","_helpers/auth-header.js","_actions/alert.actions.js","_services/user.service.js","_services/task.service.js","_actions/task.actions.js","_actions/user.actions.js","_actions/all.actions.js","_components/PrivateRoute.js","HomePage/HomePage.js","AdminPage/DeveloperDropZone/DeveloperDropZone.js","AdminPage/AdminPage.js","LoginPage/LoginPage.js","RegisterPage/RegisterPage.js","PrivatePage/PrivatePage.js","AppHeader/AppHeader.js","App/App.js","index.js"],"names":["module","exports","titleColor","JSON","parse","localStorage","getItem","history","createHashHistory","alertConstants","SUCCESS","ERROR","CLEAR","userConstants","REGISTER_REQUEST","REGISTER_SUCCESS","REGISTER_FAILURE","LOGIN_REQUEST","LOGIN_SUCCESS","LOGIN_FAILURE","LOGOUT","GETALL_REQUEST","GETALL_SUCCESS","GETALL_FAILURE","DELETE_REQUEST","DELETE_SUCCESS","DELETE_FAILURE","ASSIGN_REQUEST","ASSIGN_SUCCESS","ASSIGN_FAILURE","CHANGE_STATUS_REQUEST","CHANGE_STATUS_SUCCESS","CHANGE_STATUS_FAILURE","GETUSER_REQUEST","GETUSER_SUCCESS","GETUSER_FAILURE","taskConstants","CREATE_REQUEST","CREATE_SUCCESS","CREATE_FAILURE","STARTED_DRAGGING","STARTED_DROPPED","user","initialState","loggedIn","rootReducer","combineReducers","authentication","state","arguments","length","undefined","action","type","loggingIn","Object","objectSpread","loading","error","tasks","map","task","_id","registration","registering","users","items","id","deleting","filter","userCopy","objectWithoutProperties","deleteError","alert","message","taskCopy","concat","toConsumableArray","draggedTask","TASK_DROPPED","loggerMiddleware","createLogger","composeEnhancer","window","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","compose","store","createStore","applyMiddleware","thunkMiddleware","authHeader","token","Authorization","alertActions","success","clear","userService","login","username","password","requestOptions","method","headers","Content-Type","body","stringify","fetch","process","then","handleResponse","setItem","logout","register","getAll","getById","update","delete","assign","changeStatus","removeItem","response","text","data","ok","status","location","reload","statusText","Promise","reject","taskService","createTask","summary","taskActions","dispatch","console","log","failure","toString","request","taskStartedDragging","userActions","role","push","resTask","newTask","allActions","PrivateRoute","_ref","Component","component","rest","react_default","a","createElement","Route","render","props","Redirect","to","pathname","from","HomePage","this","_this","e","_this2","_this$props","className","firstName","index","key","lastName","href","onClick","handleDeleteUser","Link","React","connectedHomePage","connect","DeveloperDropZone","onDragOver","stopPropagation","preventDefault","onDragEnter","assignTaskToUser","onDrop","draggable","endpoint","AdminPage","classCallCheck","possibleConstructorReturn","getPrototypeOf","call","handleInputChange","_ref$target","target","name","value","setState","defineProperty","handleAssignTaskToUser","deleteTask","_ref2","dragStartHandler","ev","dataTransfer","setData","save","socketIOClient","on","admin","placeholder","onChange","onDragStart","u","DeveloperDropZone_DeveloperDropZone","mapDispatchToProps","all","connectedAdminPage","LoginPage","handleChange","_e$target","handleSubmit","submitted","_this$state","_this$state2","styles","onSubmit","htmlFor","alt","src","connectedLoginPage","RegisterPage","bind","assertThisInitialized","event","_event$target","checked","connectedRegisterPage","PrivatePage","changeTaskStatus","_this$props2","connectedPrivatePage","AppHeader","_React$Component","apply","inherits","createClass","getClassName","url","RegExp","test","data-toggle","data-target","aria-expanded","aria-controls","App","listen","AppHeader_AppHeader","Router","PrivateRoute_PrivateRoute","exact","path","es","src_App_App","document","getElementById"],"mappings":"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","file":"static/js/main.beb23a20.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"titleColor\":\"LoginPage_titleColor__1Hgd4\"};","// array in local storage for registered users\nlet users = JSON.parse(localStorage.getItem('users')) || [];\n    \nexport function configureFakeBackend() {\n    let realFetch = window.fetch;\n    window.fetch = function (url, opts) {\n        return new Promise((resolve, reject) => {\n            // wrap in timeout to simulate server api call\n            setTimeout(() => {\n\n                // authenticate\n                if (url.endsWith('/users/authenticate') && opts.method === 'POST') {\n                    // get parameters from post request\n                    let params = JSON.parse(opts.body);\n\n                    // find if any user matches login credentials\n                    let filteredUsers = users.filter(user => {\n                        return user.username === params.username && user.password === params.password;\n                    });\n\n                    if (filteredUsers.length) {\n                        // if login details are valid return user details and fake jwt token\n                        let user = filteredUsers[0];\n                        let responseJson = {\n                            id: user.id,\n                            username: user.username,\n                            firstName: user.firstName,\n                            lastName: user.lastName,\n                            token: 'fake-jwt-token'\n                        };\n                        resolve({ ok: true, text: () => Promise.resolve(JSON.stringify(responseJson)) });\n                    } else {\n                        // else return error\n                        reject('Username or password is incorrect');\n                    }\n\n                    return;\n                }\n\n                // get users\n                if (url.endsWith('/users') && opts.method === 'GET') {\n                    // check for fake auth token in header and return users if valid, this security is implemented server side in a real application\n                    if (opts.headers && opts.headers.Authorization === 'Bearer fake-jwt-token') {\n                        resolve({ ok: true, text: () => Promise.resolve(JSON.stringify(users))});\n                    } else {\n                        // return 401 not authorised if token is null or invalid\n                        reject('Unauthorised');\n                    }\n\n                    return;\n                }\n\n                // get user by id\n                if (url.match(/\\/users\\/\\d+$/) && opts.method === 'GET') {\n                    // check for fake auth token in header and return user if valid, this security is implemented server side in a real application\n                    if (opts.headers && opts.headers.Authorization === 'Bearer fake-jwt-token') {\n                        // find user by id in users array\n                        let urlParts = url.split('/');\n                        let id = parseInt(urlParts[urlParts.length - 1]);\n                        let matchedUsers = users.filter(user => { return user.id === id; });\n                        let user = matchedUsers.length ? matchedUsers[0] : null;\n\n                        // respond 200 OK with user\n                        resolve({ ok: true, text: () => JSON.stringify(user)});\n                    } else {\n                        // return 401 not authorised if token is null or invalid\n                        reject('Unauthorised');\n                    }\n\n                    return;\n                }\n\n                // register user\n                if (url.endsWith('/users/register') && opts.method === 'POST') {\n                    // get new user object from post body\n                    let newUser = JSON.parse(opts.body);\n\n                    // validation\n                    let duplicateUser = users.filter(user => { return user.username === newUser.username; }).length;\n                    if (duplicateUser) {\n                        reject('Username \"' + newUser.username + '\" is already taken');\n                        return;\n                    }\n\n                    // save new user\n                    newUser.id = users.length ? Math.max(...users.map(user => user.id)) + 1 : 1;\n                    users.push(newUser);\n                    localStorage.setItem('users', JSON.stringify(users));\n\n                    // respond 200 OK\n                    resolve({ ok: true, text: () => Promise.resolve() });\n\n                    return;\n                }\n\n                // delete user\n                if (url.match(/\\/users\\/\\d+$/) && opts.method === 'DELETE') {\n                    // check for fake auth token in header and return user if valid, this security is implemented server side in a real application\n                    if (opts.headers && opts.headers.Authorization === 'Bearer fake-jwt-token') {\n                        // find user by id in users array\n                        let urlParts = url.split('/');\n                        let id = parseInt(urlParts[urlParts.length - 1]);\n                        for (let i = 0; i < users.length; i++) {\n                            let user = users[i];\n                            if (user.id === id) {\n                                // delete user\n                                users.splice(i, 1);\n                                localStorage.setItem('users', JSON.stringify(users));\n                                break;\n                            }\n                        }\n\n                        // respond 200 OK\n                        resolve({ ok: true, text: () => Promise.resolve() });\n                    } else {\n                        // return 401 not authorised if token is null or invalid\n                        reject('Unauthorised');\n                    }\n\n                    return;\n                }\n\n                // pass through any requests not handled above\n                realFetch(url, opts).then(response => resolve(response));\n\n            }, 500);\n        });\n    }\n}","import { createHashHistory } from 'history';\n\nexport const history = createHashHistory();","export const alertConstants = {\n    SUCCESS: 'ALERT_SUCCESS',\n    ERROR: 'ALERT_ERROR',\n    CLEAR: 'ALERT_CLEAR'\n};\n","export const userConstants = {\n    REGISTER_REQUEST: 'USERS_REGISTER_REQUEST',\n    REGISTER_SUCCESS: 'USERS_REGISTER_SUCCESS',\n    REGISTER_FAILURE: 'USERS_REGISTER_FAILURE',\n\n    LOGIN_REQUEST: 'USERS_LOGIN_REQUEST',\n    LOGIN_SUCCESS: 'USERS_LOGIN_SUCCESS',\n    LOGIN_FAILURE: 'USERS_LOGIN_FAILURE',\n    \n    LOGOUT: 'USERS_LOGOUT',\n\n    GETALL_REQUEST: 'USERS_GETALL_REQUEST',\n    GETALL_SUCCESS: 'USERS_GETALL_SUCCESS',\n    GETALL_FAILURE: 'USERS_GETALL_FAILURE',\n\n    DELETE_REQUEST: 'USERS_DELETE_REQUEST',\n    DELETE_SUCCESS: 'USERS_DELETE_SUCCESS',\n    DELETE_FAILURE: 'USERS_DELETE_FAILURE',  \n    \n    ASSIGN_REQUEST: 'ASSIGN_REQUEST',\n    ASSIGN_SUCCESS: 'ASSIGN_SUCCESS',\n    ASSIGN_FAILURE: 'ASSIGN_FAILURE',  \n    \n    CHANGE_STATUS_REQUEST: 'CHANGE_STATUS_REQUEST',\n    CHANGE_STATUS_SUCCESS: 'CHANGE_STATUS_SUCCESS',\n    CHANGE_STATUS_FAILURE: 'CHANGE_STATUS_FAILURE',     \n    \n    GETUSER_REQUEST: 'GETUSER_REQUEST',\n    GETUSER_SUCCESS: 'GETUSER_SUCCESS',\n    GETUSER_FAILURE: 'GETUSER_FAILURE',\n};\n","export const taskConstants = {\n    GETALL_REQUEST: 'TASKS_GETALL_REQUEST',\n    GETALL_SUCCESS: 'TASKS_GETALL_SUCCESS',\n    GETALL_FAILURE: 'TASKS_GETALL_FAILURE',\n\n    CREATE_REQUEST: 'TASKS_CREATE_REQUEST',\n    CREATE_SUCCESS: 'TASKS_CREATE_SUCCESS',\n    CREATE_FAILURE: 'TASKS_CREATE_FAILURE', \n\n    DELETE_REQUEST: 'TASKS_DELETE_REQUEST',\n    DELETE_SUCCESS: 'TASKS_DELETE_SUCCESS',\n    DELETE_FAILURE: 'TASKS_DELETE_FAILURE',    \n\n    STARTED_DRAGGING: 'TASK_STARTED_DRAGGING',\n    STARTED_DROPPED: 'TASK_DROPPED',\n};","import { userConstants } from '../_constants';\n\nlet user = JSON.parse(localStorage.getItem('user'));\nconst initialState = user ? { loggedIn: true, user } : {};\n\nexport function authentication(state = initialState, action) {\n  switch (action.type) {\n    case userConstants.LOGIN_REQUEST:\n      return {\n        loggingIn: true,\n        user: action.user\n      };\n    case userConstants.LOGIN_SUCCESS:\n      return {\n        loggedIn: true,\n        user: action.user\n      };\n    case userConstants.LOGIN_FAILURE:\n      return {};\n    case userConstants.LOGOUT:\n      return {};\n\n   // GET USER\n    case userConstants.GETUSER_REQUEST:\n      return {\n        ...state,\n        loading: true\n      };    \n    case userConstants.GETUSER_SUCCESS:\n      return {\n        ...state,\n        user: action.user,\n        loading: false\n      };   \n    case userConstants.GETUSER_FAILURE:\n      return {\n        ...state,\n        loading: false,\n        error: action.error\n      };\n\n   // STATUS\n    case userConstants.CHANGE_STATUS_REQUEST:\n      return {\n        ...state,\n        loading: true\n      };\n    case userConstants.CHANGE_STATUS_SUCCESS:     \n      return {\n        ...state,\n        loading: false,\n        user: { ...state.user, tasks: state.user.tasks.map(task =>\n          task._id === action.task._id\n            ? { ...action.task }\n            : task\n        )}\n      };\n    case userConstants.CHANGE_STATUS_FAILURE:\n      return {\n        ...state,\n        loading: false\n      };\n\n\n    default:\n      return state\n  }\n}","import { combineReducers } from 'redux';\n\nimport { authentication } from './authentication.reducer';\nimport { registration } from './registration.reducer';\nimport { users } from './users.reducer';\nimport { alert } from './alert.reducer';\nimport { tasks } from './task.reducer';\n\n\nconst rootReducer = combineReducers({\n  authentication,\n  registration,\n  users,\n  alert,\n  tasks\n});\n\nexport default rootReducer;","import { userConstants } from '../_constants';\n\nexport function registration(state = {}, action) {\n  switch (action.type) {\n    case userConstants.REGISTER_REQUEST:\n      return { registering: true };\n    case userConstants.REGISTER_SUCCESS:\n      return {};\n    case userConstants.REGISTER_FAILURE:\n      return {};\n    default:\n      return state\n  }\n}","import { userConstants } from '../_constants';\n\nexport function users(state = {}, action) {\n  switch (action.type) {\n    case userConstants.GETALL_REQUEST:\n      return {\n        loading: true\n      };\n    case userConstants.GETALL_SUCCESS:\n      return {\n        items: action.users\n      };\n    case userConstants.GETALL_FAILURE:\n      return { \n        error: action.error\n      };\n    case userConstants.DELETE_REQUEST:\n      // add 'deleting:true' property to user being deleted\n      return {\n        ...state,\n        items: state.items.map(user =>\n          user.id === action.id\n            ? { ...user, deleting: true }\n            : user\n        )\n      };\n    case userConstants.DELETE_SUCCESS:\n      // remove deleted user from state\n      return {\n        items: state.items.filter(user => user.id !== action.id)\n      };\n    case userConstants.DELETE_FAILURE:\n      // remove 'deleting:true' property and add 'deleteError:[error]' property to user \n      return {\n        ...state,\n        items: state.items.map(user => {\n          if (user.id === action.id) {\n            // make copy of user without 'deleting:true' property\n            const { deleting, ...userCopy } = user;\n            // return copy of user with 'deleteError:[error]' property\n            return { ...userCopy, deleteError: action.error };\n          }\n\n          return user;\n        })\n      };\n\n    case userConstants.ASSIGN_REQUEST:\n      return {\n        ...state,\n        loading: true\n      };\n    case userConstants.ASSIGN_SUCCESS:\n      return {\n        ...state,\n        loading: false\n      };\n    case userConstants.ASSIGN_FAILURE:\n      return {\n        ...state,\n        loading: false,\n        error: action.error\n      };\n    default:\n      return state\n  }\n}","import { alertConstants } from '../_constants';\n\nexport function alert(state = {}, action) {\n  switch (action.type) {\n    case alertConstants.SUCCESS:\n      return {\n        type: 'alert-success',\n        message: action.message\n      };\n    case alertConstants.ERROR:\n      return {\n        type: 'alert-danger',\n        message: action.message\n      };\n    case alertConstants.CLEAR:\n      return {};\n    default:\n      return state\n  }\n}","import { taskConstants } from '../_constants';\n\nexport function tasks(state = {}, action) {\n  switch (action.type) {\n    // GETALL  \n    case taskConstants.GETALL_REQUEST:\n      return {\n        loading: true\n      };\n    case taskConstants.GETALL_SUCCESS:\n      return {\n        items: action.tasks\n      };\n    case taskConstants.GETALL_FAILURE:\n      return { \n        loading: false,\n        error: action.error\n      };\n\n    // DELETE  \n    case taskConstants.DELETE_REQUEST:\n      // add 'deleting:true' property to user being deleted\n      return {\n        ...state,\n        items: state.items.map(task =>\n          task.id === action.id\n            ? { ...task, deleting: true }\n            : task\n        )\n      };\n    case taskConstants.DELETE_SUCCESS:\n      // remove deleted task from state\n      return {\n        items: state.items.filter(task => task.id !== action.id)\n      };\n    case taskConstants.DELETE_FAILURE:\n      // remove 'deleting:true' property and add 'deleteError:[error]' property to task\n      return {\n        ...state,\n        items: state.items.map(task => {\n          if (task.id === action.id) {\n            // make copy of user without 'deleting:true' property\n            const { deleting, ...taskCopy } = task;\n            // return copy of user with 'deleteError:[error]' property\n            return { ...taskCopy, deleteError: action.error };\n          }\n\n          return task;\n        })\n      };\n\n\n    // CREATE\n    case taskConstants.CREATE_REQUEST:\n      return {\n        ...state,\n        loading: true\n      };\n    case taskConstants.CREATE_SUCCESS:    \n      return {\n        ...state,  \n        items: [\n            action.task, \n            ...state.items\n        ],\n        loading:false\n      };\n    case taskConstants.CREATE_FAILURE:\n      return { \n        error: action.error\n      };    \n\n      \n    // DRAGGING\n    case taskConstants.STARTED_DRAGGING:\n      return {\n        ...state,\n        draggedTask: action.task\n      }; \n    case taskConstants.TASK_DROPPED:\n      return { \n        ...state,\n        draggedTask: null\n      };\n\n    default:\n      return state\n  }\n}","import { createStore, compose, applyMiddleware } from 'redux';\nimport thunkMiddleware from 'redux-thunk';\nimport { createLogger } from 'redux-logger';\nimport rootReducer from '../_reducers';\n\nconst loggerMiddleware = createLogger();\nconst composeEnhancer = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose;\nexport const store = createStore(\n    rootReducer,\n    composeEnhancer( applyMiddleware(\n        thunkMiddleware,\n        loggerMiddleware\n    ))\n);/*\nexport const store = createStore(\n    rootReducer,\n    window.__REDUX_DEVTOOLS_EXTENSION__ && window.__REDUX_DEVTOOLS_EXTENSION__(),\n    applyMiddleware(\n        thunkMiddleware,\n        loggerMiddleware\n    )\n);*/","export function authHeader() {\n    // return authorization header with jwt token\n    let user = JSON.parse(localStorage.getItem('user'));\n\n    if (user && user.token) {\n        return { 'Authorization': 'Bearer ' + user.token };\n    } else {\n        return {};\n    }\n}","import { alertConstants } from '../_constants';\n\nexport const alertActions = {\n    success,\n    error,\n    clear\n};\n\nfunction success(message) {\n    return { type: alertConstants.SUCCESS, message };\n}\n\nfunction error(message) {\n    return { type: alertConstants.ERROR, message };\n}\n\nfunction clear() {\n    return { type: alertConstants.CLEAR };\n}","// import config from 'config';\nimport { authHeader } from '../_helpers';\n\nexport const userService = {\n    login,\n    logout,\n    register,\n    getAll,\n    getById,\n    update,\n    delete: _delete,\n    assign,\n    changeStatus\n};\n\nfunction login(username, password) {\n    const requestOptions = {\n        method: 'POST',\n        headers: { 'Content-Type': 'application/json' },\n        body: JSON.stringify({ username, password })\n    };\n\n    return fetch(`${process.env.REACT_APP_API_URL}/users/authenticate`, requestOptions)\n        .then(handleResponse)\n        .then(user => {\n            // login successful if there's a jwt token in the response\n            if (user.token) {\n                // store user details and jwt token in local storage to keep user logged in between page refreshes\n                localStorage.setItem('user', JSON.stringify(user));\n            }\n\n            return user;\n        });\n}\n\nfunction logout() {\n    // remove user from local storage to log user out\n    localStorage.removeItem('user');\n}\n\nfunction getAll() {\n    const requestOptions = {\n        method: 'GET',\n        headers: authHeader()\n    };\n\n    return fetch(`${process.env.REACT_APP_API_URL}/users`, requestOptions).then(handleResponse);\n}\n\nfunction getById(id) {\n    const requestOptions = {\n        method: 'GET',\n        headers: authHeader()\n    };\n\n    return fetch(`${process.env.REACT_APP_API_URL}/users/${id}`, requestOptions).then(handleResponse);\n}\n\nfunction register(user) {\n    const requestOptions = {\n        method: 'POST',\n        headers: { 'Content-Type': 'application/json' },\n        body: JSON.stringify(user)\n    };\n\n    return fetch(`${process.env.REACT_APP_API_URL}/users/register`, requestOptions).then(handleResponse);\n}\n\nfunction update(user) {\n    const requestOptions = {\n        method: 'PUT',\n        headers: { ...authHeader(), 'Content-Type': 'application/json' },\n        body: JSON.stringify(user)\n    };\n\n    return fetch(`${process.env.REACT_APP_API_URL}/users/${user.id}`, requestOptions).then(handleResponse);;\n}\n\n// prefixed function name with underscore because delete is a reserved word in javascript\nfunction _delete(id) {\n    const requestOptions = {\n        method: 'DELETE',\n        headers: authHeader()\n    };\n\n    return fetch(`${process.env.REACT_APP_API_URL}/users/${id}`, requestOptions).then(handleResponse);\n}\n\nfunction assign(user, task) {\n    const requestOptions = {\n        method: 'POST',\n        headers: { ...authHeader(), 'Content-Type': 'application/json' },\n        body: JSON.stringify({user, task})\n    };\n\n    return fetch(`${process.env.REACT_APP_API_URL}/users/task`, requestOptions).then(handleResponse);  \n}\n\nfunction handleResponse(response) {\n    return response.text().then(text => {\n        const data = text && JSON.parse(text);\n        if (!response.ok) {\n            if (response.status === 401) {\n                // auto logout if 401 response returned from api\n                logout();\n                window.location.reload(true);\n            }\n\n            const error = (data && data.message) || response.statusText;\n            return Promise.reject(error);\n        }\n\n        return data;\n    });\n}\n\nfunction changeStatus(user, task) {\n    const requestOptions = {\n        method: 'PUT',\n        headers: { ...authHeader(), 'Content-Type': 'application/json' },\n        body: JSON.stringify({user, task})\n    };\n\n    return fetch(`${process.env.REACT_APP_API_URL}/users/task/${user._id}`, requestOptions).then(handleResponse);  \n}","// import config from 'config';\nimport { authHeader } from '../_helpers';\nimport { userService } from './user.service';\n\nexport const taskService = {\n    getAll,\n    createTask,\n    delete: _delete\n};\n\n\nfunction getAll() {\n    const requestOptions = {\n        method: 'GET',\n        headers: authHeader()\n    };\n\n    return fetch(`${process.env.REACT_APP_API_URL}/tasks`, requestOptions).then(handleResponse);\n}\n\nfunction createTask(summary) {\n    const requestOptions = {\n        method: 'POST',\n        headers: { 'Content-Type': 'application/json', ...authHeader() },\n        body: JSON.stringify({summary})\n    };\n\n    return fetch(`${process.env.REACT_APP_API_URL}/tasks`, requestOptions).then(handleResponse);\n}\n\nfunction _delete(id) {\n    const requestOptions = {\n        method: 'DELETE',\n        headers: authHeader()\n    };\n\n    return fetch(`${process.env.REACT_APP_API_URL}/tasks/${id}`, requestOptions).then(handleResponse);\n}\n\nfunction handleResponse(response) {\n    return response.text().then(text => {\n        const data = text && JSON.parse(text);\n        if (!response.ok) {\n            if (response.status === 401) {\n                // auto logout if 401 response returned from api\n                userService.logout();\n                window.location.reload(true);\n            }\n\n            const error = (data && data.message) || response.statusText;\n            return Promise.reject(error);\n        }\n\n        return data;\n    });\n}","import { taskConstants } from '../_constants';\nimport { taskService } from '../_services';\n/*\nimport { alertActions } from './';\nimport { history } from '../_helpers';\n*/\n\nexport const taskActions = {\n    getAll,\n    createTask,\n    delete: _delete,\n    taskStartedDragging\n};\n\n\nfunction getAll() {\n    return dispatch => {\n        dispatch(request());\n\n        taskService.getAll()\n            .then(\n                tasks => dispatch(success(tasks)),\n                error => dispatch(failure(error.toString()))\n            );\n    };\n\n    function request() { return { type: taskConstants.GETALL_REQUEST } }\n    function success(tasks) { \n        console.log(`tasks service:`, tasks)\n        return { type: taskConstants.GETALL_SUCCESS, tasks }\n     }\n    function failure(error) { return { type: taskConstants.GETALL_FAILURE, error } }\n}\n\nfunction createTask(summary) {\n    return dispatch => {\n        dispatch(request(summary));\n\n        taskService.createTask(summary)\n            .then(\n                task => dispatch(success(task)),\n                error => dispatch(failure(error.toString()))\n            );\n    };\n\n    function request(summary) { return { type: taskConstants.CREATE_REQUEST, summary } }\n    function success(task) { \n        return { type: taskConstants.CREATE_SUCCESS, task }\n     }\n    function failure(error) { return { type: taskConstants.CREATE_FAILURE, error } }    \n}\n// prefixed function name with underscore because delete is a reserved word in javascript\n\nfunction _delete(id) {\n    return dispatch => {\n        dispatch(request(id));\n\n        taskService.delete(id)\n            .then(\n                () => dispatch(success(id)),\n                error => dispatch(failure(id, error.toString()))\n            );\n    };\n\n    function request(id) { return { type: taskConstants.DELETE_REQUEST, id } }\n    function success(id) { return { type: taskConstants.DELETE_SUCCESS, id } }\n    function failure(id, error) { return { type: taskConstants.DELETE_FAILURE, id, error } }\n}\n\n\nfunction taskStartedDragging(task) {\n    return { type: taskConstants.STARTED_DRAGGING, task }\n}","import { userConstants } from '../_constants';\nimport { userService } from '../_services';\nimport { alertActions } from './';\nimport { history } from '../_helpers';\nimport { taskActions } from './task.actions';\n\nexport const userActions = {\n    login,\n    logout,\n    register,\n    getAll,\n    getById,\n    delete: _delete,\n    assign,\n    changeStatus\n};\n\nfunction getById(id) {\n    return dispatch => {\n        dispatch(request({id}));\n\n        return userService.getById(id)\n            .then(\n                user => { \n                    dispatch(success(user));                   \n                },\n                error => {\n                    dispatch(failure(error.toString()));\n                    dispatch(alertActions.error(error.toString()));               \n                }\n            );        \n    };\n    function request(id) { return { type: userConstants.GETUSER_REQUEST, id } }\n    function success(user) { return { type: userConstants.GETUSER_SUCCESS, user } }\n    function failure(error) { return { type: userConstants.GETUSER_FAILURE, error } }    \n}\n\nfunction login(username, password) {\n    return dispatch => {\n        dispatch(request({ username }));\n\n        userService.login(username, password)\n            .then(\n                user => { \n                    dispatch(success(user));\n                    if (user.role === 'admin') {\n                        history.push('/admin');\n                    } else {\n                        history.push('/private');\n                    }\n                },\n                error => {\n                    dispatch(failure(error.toString()));\n                    dispatch(alertActions.error(error.toString()));\n                }\n            );\n    };\n\n    function request(user) { return { type: userConstants.LOGIN_REQUEST, user } }\n    function success(user) { return { type: userConstants.LOGIN_SUCCESS, user } }\n    function failure(error) { return { type: userConstants.LOGIN_FAILURE, error } }\n}\n\nfunction logout() {\n    userService.logout();\n    return { type: userConstants.LOGOUT };\n}\n\nfunction register(user) {\n    return dispatch => {\n        dispatch(request(user));\n\n        userService.register(user)\n            .then(\n                user => { \n                    dispatch(success());\n                    history.push('/login');\n                    dispatch(alertActions.success('Registration successful'));\n                },\n                error => {\n                    dispatch(failure(error.toString()));\n                    dispatch(alertActions.error(error.toString()));\n                }\n            );\n    };\n\n    function request(user) { return { type: userConstants.REGISTER_REQUEST, user } }\n    function success(user) { return { type: userConstants.REGISTER_SUCCESS, user } }\n    function failure(error) { return { type: userConstants.REGISTER_FAILURE, error } }\n}\n\nfunction getAll() {\n    return dispatch => {\n        dispatch(request());\n\n        userService.getAll()\n            .then(\n                users => dispatch(success(users)),\n                error => dispatch(failure(error.toString()))\n            );\n    };\n\n    function request() { return { type: userConstants.GETALL_REQUEST } }\n    function success(users) { return { type: userConstants.GETALL_SUCCESS, users } }\n    function failure(error) { return { type: userConstants.GETALL_FAILURE, error } }\n}\n\n// prefixed function name with underscore because delete is a reserved word in javascript\nfunction _delete(id) {\n    return dispatch => {\n        dispatch(request(id));\n\n        userService.delete(id)\n            .then(\n                user => dispatch(success(id)),\n                error => dispatch(failure(id, error.toString()))\n            );\n    };\n\n    function request(id) { return { type: userConstants.DELETE_REQUEST, id } }\n    function success(id) { return { type: userConstants.DELETE_SUCCESS, id } }\n    function failure(id, error) { return { type: userConstants.DELETE_FAILURE, id, error } }\n}\n\nfunction assign(user, task) {\n    \n    return dispatch => {\n        dispatch(request());\n\n        userService.assign(user, task)\n            .then(\n                () => {\n                     dispatch(taskActions.getAll()); // TODO: change this in the future to get tasks of this specific user instead of getting all users\n                     dispatch(getAll());\n                     dispatch(success());   \n                },\n                error => dispatch(failure( error.toString()))\n            );\n    };\n\n    function request() { return { type: userConstants.ASSIGN_REQUEST} }   \n    function success() { return { type: userConstants.ASSIGN_SUCCESS } } \n    function failure(error) { return { type: userConstants.ASSIGN_FAILURE, error } }\n}\n\nfunction changeStatus(user, task) {\n    const taskCopy = { ...task, status:  task.status >= 2 ? 0 : task.status + 1};\n\n    return dispatch => {\n        dispatch(request());\n\n        userService.changeStatus(user, taskCopy)\n            .then(\n                (resTask) => dispatch(success(resTask)),\n                error => dispatch(failure( error.toString()))\n            );\n    };\n\n    function request() { return { type: userConstants.CHANGE_STATUS_REQUEST} }   \n    function success(newTask) { return { type: userConstants.CHANGE_STATUS_SUCCESS, task: newTask} } \n    function failure(error) { return { type: userConstants.CHANGE_STATUS_FAILURE, error } }\n}","import { userActions, taskActions } from '../_actions';\n\nexport const allActions = {\n    getAll\n};\n\nfunction getAll() {\n    return dispatch => {\n        dispatch(userActions.getAll());\n        dispatch(taskActions.getAll());\n    }\n}\n","import React from 'react';\nimport { Route, Redirect } from 'react-router-dom';\n\nexport const PrivateRoute = ({ component: Component, ...rest }) => (\n    <Route {...rest} render={props => (\n        localStorage.getItem('user')\n            ? <Component {...props} />\n            : <Redirect to={{ pathname: '/login', state: { from: props.location } }} />\n    )} />\n)","import React from 'react';\nimport { Link } from 'react-router-dom';\nimport { connect } from 'react-redux';\nimport { history } from '../_helpers';\nimport { userActions } from '../_actions';\n\nclass HomePage extends React.Component {\n    componentWillMount() {\n        this.props.user.role === 'admin' ? history.push('/admin') : history.push('/private');\n    }\n    componentDidMount() {\n        this.props.dispatch(userActions.getAll());\n    }\n\n    handleDeleteUser(id) {\n        return (e) => this.props.dispatch(userActions.delete(id));\n    }\n\n    render() {\n        const { user, users } = this.props;\n        return (\n            <div className=\"col-md-6 col-md-offset-3\">\n                <h1>Hi {user.firstName}!</h1>\n                <p>You're logged in with React!!</p>\n                <h3>All registered users:</h3>\n                {users.loading && <em>Loading users...</em>}\n                {users.error && <span className=\"text-danger\">ERROR: {users.error}</span>}\n                {users.items &&\n                    <ul>\n                        {users.items.map((user, index) =>\n                            <li key={user.id}>\n                                {user.firstName + ' ' + user.lastName}\n                                {\n                                    user.deleting ? <em> - Deleting...</em>\n                                    : user.deleteError ? <span className=\"text-danger\"> - ERROR: {user.deleteError}</span>\n                                    : <span> - <a href onClick={this.handleDeleteUser(user.id)}>Delete</a></span>\n                                }\n                            </li>\n                        )}\n                    </ul>\n                }\n                <p>\n                    <Link to=\"/login\">Logout</Link>\n                </p>\n            </div>\n        );\n    }\n}\n\nfunction mapStateToProps(state) {\n    const { users, authentication } = state;\n    const { user } = authentication;\n    return {\n        user,\n        users\n    };\n}\n\nconst connectedHomePage = connect(mapStateToProps)(HomePage);\nexport { connectedHomePage as HomePage };","import React from 'react';\n\n\nclass DeveloperDropZone extends React.Component {\n\n    onDragOver = (e) => {\t\n        e.stopPropagation();\t\n        e.preventDefault();\t\n    }\t\n\n    onDragEnter = (e) => {\t\n        e.stopPropagation();\t\n    }\t\n\n    render() {\n        const { user, assignTaskToUser } = this.props;\n        return (\n            <div className='col-xs-4' \n            onDragEnter={this.onDragEnter}\n            onDragOver={this.onDragOver}\n            onDrop={e => assignTaskToUser(user, e)}>\n               <div>{user.firstName + ' ' + user.lastName}</div>\n               <div className='well'>\n               {user.tasks && user.tasks.length ? user.tasks.map(({_id, summary, status}) => <li key={_id} draggable=\"true\">{summary} {status}</li>):'no tasks yet'}\n               </div>\n            </div>\n        );\n    }\n}\n\n\n\nexport  {DeveloperDropZone};","import React from 'react';\nimport { connect } from 'react-redux';\nimport { userActions, taskActions, allActions as all } from '../_actions';\nimport { DeveloperDropZone } from './DeveloperDropZone';\nimport socketIOClient from \"socket.io-client\";\n\nconst endpoint = `${process.env.REACT_APP_API_URL}`;\n\nclass AdminPage extends React.Component {\n    constructor(props) {\n        super(props);\n\n        this.state = {\n            summary: '',\n            response: false,\n            endpoint\n        }\n\n        const socket = socketIOClient(endpoint);\n        socket.on(\"status-change\", () => {\n            this.props.getAll();\n        });\n    }\n\n    handleInputChange = ({target:{name, value}}) => {\n        this.setState({\n            [name]: value\n        });\n    }\n\n    handleAssignTaskToUser = (user, e) => {\n        e && e.preventDefault();\n        this.props.assign(user, this.props.draggedTask);\n    }\n\n    deleteTask = ({ _id: id }, e) => {\n        e && e.preventDefault();\n        this.props.deleteTask(id);\n    }\n\n    dragStartHandler = (task, ev) => {\n        this.props.taskStartedDragging(task);//.dispatch(taskActions.taskStartedDragging(task));\n        ev.dataTransfer.setData(\"text\", ev.target.id);\n    }\n\n    save = (e) => {\n        e.preventDefault();\n        this.state.summary && this.props.createTask(this.state.summary);\n        this.setState({ summary: '' });\n    }\n\n    /* life hooks */\n    componentDidMount() {\n        this.props.getAll();\n    }\n\n    render() {\n        const { admin, users, tasks } = this.props;\n        const { summary } = this.state;\n        return (<div>\n            <h1>Hi {admin.firstName}!</h1>\n            <form>\n                <input name=\"summary\" value={summary} placeholder=\"what is the task\"\n                    onChange={this.handleInputChange} />\n                <button onClick={this.save}>Save</button>\n            </form>\n            <hr />\n            <h3>Unassigned tasks:</h3>\n            {tasks.loading && <em>Loading tasks...</em>}\n            {tasks.error && <span className=\"text-danger\">ERROR: {tasks.error}</span>}\n            {tasks.items && tasks.items.length ?\n                <ul>\n                    {tasks.items.map((task, index) =>\n                        <li key={task.id} draggable=\"true\" onDragStart={ev => this.dragStartHandler(task, ev)}>\n                            <span className=\"glyphicon glyphicon-th-list\"></span> {task.summary}\n                            <a href=\"#top\" onClick={e => this.deleteTask(task, e)}><span className=\"glyphicon glyphicon-remove\"></span></a>\n                        </li>\n                    )}\n                </ul> : !tasks.loading && tasks.items && tasks.items.length === 0 && 'No tasks yet'\n            }\n            <hr />\n            <h3>Developers:</h3>\n            {users.loading && <em>Loading users...</em>}\n            {users.error && <span className=\"text-danger\">ERROR: {users.error}</span>}\n            {users.items &&\n                <div className='row'>\n                    {users.items.filter(u => u.role !== 'admin').map((user, index) =>\n                        <DeveloperDropZone user={user} key={user.id} assignTaskToUser={this.handleAssignTaskToUser} />\n                    )}\n                </div>\n            }\n        </div>);\n    }\n}\n\nfunction mapStateToProps(state) {\n    const { users, authentication: { user: admin }, tasks, tasks: { draggedTask } } = state;\n    return {\n        admin,\n        users,\n        tasks,\n        draggedTask\n    };\n}\n\nconst mapDispatchToProps = {\n    assign: userActions.assign,\n    deleteTask: taskActions.delete,\n    taskStartedDragging: taskActions.taskStartedDragging,\n    createTask: taskActions.createTask,\n    getAll: all.getAll\n}\n\nconst connectedAdminPage = connect(mapStateToProps, mapDispatchToProps)(AdminPage);\nexport { AdminPage as NotConnAdminPage, connectedAdminPage as AdminPage };\n","import React from 'react';\nimport { Link } from 'react-router-dom';\nimport { connect } from 'react-redux';\nimport styles from './LoginPage.module.css';\n\nimport { userActions } from '../_actions';\n\nclass LoginPage extends React.Component {\n    constructor(props) {\n        super(props);\n\n        // reset login status\n        this.props.dispatch(userActions.logout());\n\n        this.state = {\n            username: '',\n            password: '',\n            submitted: false\n        };\n    }\n\n    handleChange = (e) => {\n        const { name, value } = e.target;\n        this.setState({ [name]: value });\n    }\n\n    handleSubmit = (e) => {\n        e.preventDefault();\n\n        this.setState({ submitted: true });\n        const { username, password } = this.state;\n        const { dispatch } = this.props;\n        if (username && password) {\n            dispatch(userActions.login(username, password));\n        }\n    }\n\n    render() {\n        const { loggingIn } = this.props;\n        const { username, password, submitted } = this.state;\n        return (\n            <div className=\"col-md-6 col-md-offset-3\">\n                <h2 className={styles.titleColor}>Login</h2>\n                <form name=\"form\" onSubmit={this.handleSubmit}>\n                    <div className={'form-group' + (submitted && !username ? ' has-error' : '')}>\n                        <label htmlFor=\"username\">Username</label>\n                        <input type=\"text\" className=\"form-control\" name=\"username\" value={username} onChange={this.handleChange} />\n                        {submitted && !username &&\n                            <div className=\"help-block\">Username is required</div>\n                        }\n                    </div>\n                    <div className={'form-group' + (submitted && !password ? ' has-error' : '')}>\n                        <label htmlFor=\"password\">Password</label>\n                        <input type=\"password\" className=\"form-control\" name=\"password\" value={password} onChange={this.handleChange} />\n                        {submitted && !password &&\n                            <div className=\"help-block\">Password is required</div>\n                        }\n                    </div>\n                    <div className=\"form-group\">\n                        <button className=\"btn btn-primary\">Login</button>\n                        {loggingIn &&\n                            <img alt=\"\" src=\"data:image/gif;base64,R0lGODlhEAAQAPIAAP///wAAAMLCwkJCQgAAAGJiYoKCgpKSkiH/C05FVFNDQVBFMi4wAwEAAAAh/hpDcmVhdGVkIHdpdGggYWpheGxvYWQuaW5mbwAh+QQJCgAAACwAAAAAEAAQAAADMwi63P4wyklrE2MIOggZnAdOmGYJRbExwroUmcG2LmDEwnHQLVsYOd2mBzkYDAdKa+dIAAAh+QQJCgAAACwAAAAAEAAQAAADNAi63P5OjCEgG4QMu7DmikRxQlFUYDEZIGBMRVsaqHwctXXf7WEYB4Ag1xjihkMZsiUkKhIAIfkECQoAAAAsAAAAABAAEAAAAzYIujIjK8pByJDMlFYvBoVjHA70GU7xSUJhmKtwHPAKzLO9HMaoKwJZ7Rf8AYPDDzKpZBqfvwQAIfkECQoAAAAsAAAAABAAEAAAAzMIumIlK8oyhpHsnFZfhYumCYUhDAQxRIdhHBGqRoKw0R8DYlJd8z0fMDgsGo/IpHI5TAAAIfkECQoAAAAsAAAAABAAEAAAAzIIunInK0rnZBTwGPNMgQwmdsNgXGJUlIWEuR5oWUIpz8pAEAMe6TwfwyYsGo/IpFKSAAAh+QQJCgAAACwAAAAAEAAQAAADMwi6IMKQORfjdOe82p4wGccc4CEuQradylesojEMBgsUc2G7sDX3lQGBMLAJibufbSlKAAAh+QQJCgAAACwAAAAAEAAQAAADMgi63P7wCRHZnFVdmgHu2nFwlWCI3WGc3TSWhUFGxTAUkGCbtgENBMJAEJsxgMLWzpEAACH5BAkKAAAALAAAAAAQABAAAAMyCLrc/jDKSatlQtScKdceCAjDII7HcQ4EMTCpyrCuUBjCYRgHVtqlAiB1YhiCnlsRkAAAOwAAAAAAAAAAAA==\" />\n                        }\n                        <Link to=\"/register\" className=\"btn btn-link\">Register</Link>\n                    </div>\n                </form>\n            </div>\n        );\n    }\n}\n\nfunction mapStateToProps(state) {\n    const { loggingIn } = state.authentication;\n    return {\n        loggingIn\n    };\n}\n\nconst connectedLoginPage = connect(mapStateToProps)(LoginPage);\nexport { LoginPage as NotConnLoginPage, connectedLoginPage as LoginPage }; ","import React from 'react';\nimport { Link } from 'react-router-dom';\nimport { connect } from 'react-redux';\n\nimport { userActions } from '../_actions';\n\nclass RegisterPage extends React.Component {\n    constructor(props) {\n        super(props);\n\n        this.state = {\n            user: {\n                firstName: '',\n                lastName: '',\n                username: '',\n                password: '',\n                role: 'developer' // must be \"developer\" by default\n            },\n            submitted: false\n        };\n\n        this.handleChange = this.handleChange.bind(this);\n        this.handleSubmit = this.handleSubmit.bind(this);\n    }\n\n    handleChange(event) {\n        const { name, value } = event.target;\n        const { user } = this.state;\n        // set role according to checkbox\n        if( name === 'admin-check' ) {\n            user.role = event.target.checked ? 'admin' : 'developer';\n        }\n         \n        this.setState({\n            user: {\n                ...user,\n                [name]: value\n            }\n        });\n    }\n\n    handleSubmit(event) {\n        event.preventDefault();\n\n        this.setState({ submitted: true });\n        const { user } = this.state;\n        const { dispatch } = this.props;\n        if (user.firstName && user.lastName && user.username && user.password) {\n            dispatch(userActions.register(user));\n        }\n    }\n\n    render() {\n        const { registering  } = this.props;\n        const { user, submitted } = this.state;\n        return (\n            <div className=\"col-md-6 col-md-offset-3\">\n                <h2>Register</h2>\n                <form name=\"form\" onSubmit={this.handleSubmit}>\n                    <div className={'form-group' + (submitted && !user.firstName ? ' has-error' : '')}>\n                        <label htmlFor=\"firstName\">First Name</label>\n                        <input type=\"text\" className=\"form-control\" name=\"firstName\" value={user.firstName} onChange={this.handleChange} />\n                        {submitted && !user.firstName &&\n                            <div className=\"help-block\">First Name is required</div>\n                        }\n                    </div>\n                    <div className={'form-group' + (submitted && !user.lastName ? ' has-error' : '')}>\n                        <label htmlFor=\"lastName\">Last Name</label>\n                        <input type=\"text\" className=\"form-control\" name=\"lastName\" value={user.lastName} onChange={this.handleChange} />\n                        {submitted && !user.lastName &&\n                            <div className=\"help-block\">Last Name is required</div>\n                        }\n                    </div>\n                    <div className={'form-group' + (submitted && !user.username ? ' has-error' : '')}>\n                        <label htmlFor=\"username\">Username</label>\n                        <input type=\"text\" className=\"form-control\" name=\"username\" value={user.username} onChange={this.handleChange} />\n                        {submitted && !user.username &&\n                            <div className=\"help-block\">Username is required</div>\n                        }\n                    </div>\n                    <div className={'form-group' + (submitted && !user.password ? ' has-error' : '')}>\n                        <label htmlFor=\"password\">Password</label>\n                        <input type=\"password\" className=\"form-control\" name=\"password\" value={user.password} onChange={this.handleChange} />\n                        {submitted && !user.password &&\n                            <div className=\"help-block\">Password is required</div>\n                        }\n                    </div>\n                    <div className='form-group'>\n                        <label htmlFor=\"admin-check\">is Admin</label>\n                        <input type=\"checkbox\" className=\"form-control\" name=\"admin-check\" onChange={this.handleChange} />\n                    </div>                    \n                    <div className=\"form-group\">\n                        <button className=\"btn btn-primary\">Register</button>\n                        {registering && \n                            <img alt=\"\" src=\"data:image/gif;base64,R0lGODlhEAAQAPIAAP///wAAAMLCwkJCQgAAAGJiYoKCgpKSkiH/C05FVFNDQVBFMi4wAwEAAAAh/hpDcmVhdGVkIHdpdGggYWpheGxvYWQuaW5mbwAh+QQJCgAAACwAAAAAEAAQAAADMwi63P4wyklrE2MIOggZnAdOmGYJRbExwroUmcG2LmDEwnHQLVsYOd2mBzkYDAdKa+dIAAAh+QQJCgAAACwAAAAAEAAQAAADNAi63P5OjCEgG4QMu7DmikRxQlFUYDEZIGBMRVsaqHwctXXf7WEYB4Ag1xjihkMZsiUkKhIAIfkECQoAAAAsAAAAABAAEAAAAzYIujIjK8pByJDMlFYvBoVjHA70GU7xSUJhmKtwHPAKzLO9HMaoKwJZ7Rf8AYPDDzKpZBqfvwQAIfkECQoAAAAsAAAAABAAEAAAAzMIumIlK8oyhpHsnFZfhYumCYUhDAQxRIdhHBGqRoKw0R8DYlJd8z0fMDgsGo/IpHI5TAAAIfkECQoAAAAsAAAAABAAEAAAAzIIunInK0rnZBTwGPNMgQwmdsNgXGJUlIWEuR5oWUIpz8pAEAMe6TwfwyYsGo/IpFKSAAAh+QQJCgAAACwAAAAAEAAQAAADMwi6IMKQORfjdOe82p4wGccc4CEuQradylesojEMBgsUc2G7sDX3lQGBMLAJibufbSlKAAAh+QQJCgAAACwAAAAAEAAQAAADMgi63P7wCRHZnFVdmgHu2nFwlWCI3WGc3TSWhUFGxTAUkGCbtgENBMJAEJsxgMLWzpEAACH5BAkKAAAALAAAAAAQABAAAAMyCLrc/jDKSatlQtScKdceCAjDII7HcQ4EMTCpyrCuUBjCYRgHVtqlAiB1YhiCnlsRkAAAOwAAAAAAAAAAAA==\" />\n                        }\n                        <Link to=\"/login\" className=\"btn btn-link\">Cancel</Link>\n                    </div>\n                </form>\n            </div>\n        );\n    }\n}\n\nfunction mapStateToProps(state) {\n    const { registering } = state.registration;\n    return {\n        registering\n    };\n}\n\nconst connectedRegisterPage = connect(mapStateToProps)(RegisterPage);\nexport { connectedRegisterPage as RegisterPage };","import React from \"react\";\nimport { Link } from \"react-router-dom\";\nimport { connect } from \"react-redux\";\nimport socketIOClient from \"socket.io-client\";\nimport { userActions } from \"../_actions\";\n\nclass PrivatePage extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      summary: \"\",\n      response: false,\n      endpoint: `${process.env.REACT_APP_API_URL}`\n    };\n\n    const { endpoint } = this.state,\n      {\n        getById,\n        user: { _id }\n      } = this.props,\n      socket = socketIOClient(endpoint);\n    socket.on(\"task-assigned\", () => {\n      getById(_id);\n    });\n  }\n\n  componentDidMount() {\n    const {\n      getById,\n      user: { _id }\n    } = this.props;\n    getById(_id);\n  }\n\n  changeStatus = (user, task) => (e) => {\n    e.preventDefault();  \n    const { changeTaskStatus } = this.props;\n    changeTaskStatus(user, task);\n  }\n\n  render() {\n    const { user } = this.props;\n    return (\n      <div className=\"col-md-6 col-md-offset-3\">\n        <h1>Hi {user.firstName}!</h1>\n        <p>You're logged in with React!!</p>\n        <h3>Tasks for you:</h3>\n        {user.tasks && user.tasks.length ? (\n          <ul>\n            {user.tasks.map((task) => (\n              <li key={task._id}>\n                {task.summary}{\" \"}\n                <a href=\"/#\" onClick={this.changeStatus(user, task)}>\n                  {task.status === 0\n                    ? \"new\"\n                    : task.status === 1\n                    ? \"in process\"\n                    : \"done\"}\n                </a>\n              </li>\n            ))}\n          </ul>\n        ) : (\n          \"No tasks yet\"\n        )}\n        <p>\n          <Link to=\"/login\">Logout</Link>\n        </p>\n      </div>\n    );\n  }\n}\n\nfunction mapStateToProps(state) {\n  const {\n    authentication: { user }\n  } = state;\n\n  return {\n    user\n  };\n}\n\nfunction mapDispatchToProps(dispatch) {\n  return {\n    changeTaskStatus: (user, task) =>\n      dispatch(userActions.changeStatus(user, task)),\n    getById: _id => dispatch(userActions.getById(_id))\n  };\n}\n\nconst connectedPrivatePage = connect(\n  mapStateToProps,\n  mapDispatchToProps\n)(PrivatePage);\n\nexport { PrivatePage as NotConnPrivatePage, connectedPrivatePage as PrivatePage };\n","import React from 'react';\n\nexport class AppHeader extends React.Component {\n\n    render() {\n        function getClassName(url) {\n           return (new RegExp(url, 'g')).test(window.location.href) ? 'active' : '';\n        }\n        return (<nav className=\"navbar navbar-inverse navbar-fixed-top\">\n            <div className=\"container\">\n                <div className=\"navbar-header\">\n                    <button type=\"button\" className=\"navbar-toggle collapsed\" data-toggle=\"collapse\" data-target=\"#navbar\" aria-expanded=\"false\" aria-controls=\"navbar\">\n                        <span className=\"sr-only\">Toggle navigation</span>\n                        <span className=\"icon-bar\"></span>\n                        <span className=\"icon-bar\"></span>\n                        <span className=\"icon-bar\"></span>\n                    </button>\n                    <a className=\"navbar-brand\" href=\"/\">Mesi</a>\n                </div>\n                <div id=\"navbar\" className=\"navbar-collapse collapse\">\n                    <ul className=\"nav navbar-nav\">\n                        {localStorage.getItem('user') && JSON.parse(localStorage.getItem('user')).role==='admin' && <li className={getClassName(\"admin\")}><a href=\"#/admin\">Admin</a></li>}\n                        {localStorage.getItem('user')  && <li className={getClassName(\"private\")}><a href=\"#/private\">Private</a></li>}\n                        {!localStorage.getItem('user') && <li className={getClassName(\"login\")}><a href=\"#/login\">Login</a></li>}\n                        <li className={getClassName(\"register\")}><a href=\"#/register\">Register</a></li>                                                    \n                    </ul>\n                    <ul className=\"nav navbar-nav navbar-right\">\n                        <li>\n                            {localStorage.getItem('user') && <a href=\"#/login\">Logout</a>}\n                        </li>                   \n                    </ul>\n                </div>\n\n            </div>\n        </nav>)\n    }\n}\n","import React from 'react';\nimport { Router, Route } from 'react-router-dom';\nimport { connect } from 'react-redux';\n\nimport { history } from '../_helpers';\nimport { alertActions } from '../_actions';\nimport { PrivateRoute } from '../_components';\nimport { HomePage } from '../HomePage';\nimport { AdminPage } from '../AdminPage';\nimport { LoginPage } from '../LoginPage';\nimport { RegisterPage } from '../RegisterPage';\nimport { PrivatePage } from '../PrivatePage';\n\nimport { AppHeader } from '../AppHeader';\n\n\nexport class App extends React.Component {\n    constructor(props) {\n        super(props);\n\n        const { dispatch } = this.props;\n        history.listen((location, action) => {\n            // clear alert on location change\n            dispatch(alertActions.clear());\n        });\n\n    }\n\n    render() {\n        const { alert } = this.props;\n        return (\n            <div className=\"jumbotron\">\n\n                <AppHeader/>\n\n                <div className=\"container\">\n                    <div className=\"col-sm-8 col-sm-offset-2\">\n                        {alert.message &&\n                            <div className={`alert ${alert.type}`}>{alert.message}</div>\n                        }\n                        <Router history={history}>\n                            <div>\n                                <PrivateRoute exact path=\"/\" component={HomePage} />\n                                <PrivateRoute exact path=\"/private\" component={PrivatePage} />\n                                <PrivateRoute exact path=\"/admin\" component={AdminPage} />\n                                <Route path=\"/login\" component={LoginPage} />\n                                <Route path=\"/register\" component={RegisterPage} />\n                            </div>\n                        </Router>\n                    </div>\n                </div>\n            </div>\n        );\n    }\n}\n\nfunction mapStateToProps(state) {\n    const { alert } = state;\n    return {\n        alert\n    };\n}\n\n\nexport default connect(mapStateToProps)(App); ","import React from 'react';\nimport { render } from 'react-dom';\nimport { Provider } from 'react-redux';\n\nimport { store } from './_helpers';\nimport { App } from './App/index';\nimport 'bootstrap/dist/css/bootstrap.css';\n// setup fake backend\n//import { configureFakeBackend } from './_helpers';\n// configureFakeBackend();\n\nrender(\n    <Provider store={store}>\n        <App />\n    </Provider>,\n    document.getElementById('root')\n);"],"sourceRoot":""}